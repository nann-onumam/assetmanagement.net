<!-- Toast Messages -->
<p-toast></p-toast>

<!-- Confirmation Dialog -->
<p-confirmDialog></p-confirmDialog>

<!-- Asset Form Modal -->
<app-asset-form 
  [visible]="showForm"
  [editingAsset]="editingAsset"
  (visibleChange)="onFormClose()"
  (assetSaved)="onAssetSaved($event)">
</app-asset-form>

<!-- Asset Profile View -->
<div class="p-6">
  <div class="max-w-3xl mx-auto">
    <!-- Back Button -->
    <button (click)="goBack()" class="mb-6 text-blue-600 hover:text-blue-800 flex items-center gap-2 font-medium transition-colors">
      <i class="pi pi-arrow-left text-lg"></i> Back to List
    </button>

    <!-- Profile Card -->
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden" *ngIf="!loading && asset">
      <!-- Top Green Banner -->
      <div class="h-3 bg-emerald-600"></div>

      <!-- Content -->
      <div class="p-8">
        <!-- Header Section with Title and Status -->
        <div class="flex justify-between items-start mb-8">
          <div>
            <h2 class="text-4xl font-bold text-gray-900 mb-2">{{ asset.name }}</h2>
            <p class="text-gray-500 text-lg">{{ asset.model }}</p>
          </div>
          <span class="bg-emerald-100 text-emerald-700 px-4 py-2 rounded-full font-medium text-sm">{{ asset.status || 'Active' }}</span>
        </div>

        <!-- Key Info Grid -->
        <div class="grid grid-cols-2 gap-12 py-8 border-y border-gray-100 mb-8">
          <div>
            <p class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-3">Category</p>
            <p class="text-gray-800 font-medium text-lg">{{ asset.category?.name || 'Unassigned' }}</p>
          </div>
          <div>
            <p class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-3">Current Value</p>
            <p class="text-3xl font-bold text-emerald-600">${{ asset.value | number:'1.2-2' }}</p>
          </div>
        </div>

        <!-- Description -->
        <div class="mb-8">
          <p class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-3">Description</p>
          <p class="text-gray-700 leading-relaxed text-base">{{ asset.description || 'No description available' }}</p>
        </div>

        <!-- Action Buttons -->
        <div class="flex gap-3 pt-4 border-t border-gray-100">
          <button type="button" (click)="editAsset(); $event.stopPropagation()" class="flex-1 px-4 py-3 bg-amber-100 text-amber-600 rounded-lg font-medium hover:bg-amber-600 hover:text-white transition-colors flex items-center justify-center gap-2">
            <i class="pi pi-pencil"></i> Edit Asset
          </button>
          <button type="button" (click)="deleteAsset(); $event.stopPropagation()" class="flex-1 px-4 py-3 bg-red-100 text-red-600 rounded-lg font-medium hover:bg-red-600 hover:text-white transition-colors flex items-center justify-center gap-2">
            <i class="pi pi-trash"></i> Delete Asset
          </button>
        </div>
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center">
      <i class="pi pi-spin pi-spinner text-4xl text-gray-400 block mb-4"></i>
      <p class="text-gray-500">Loading asset details...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="!loading && !asset" class="bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center">
      <i class="pi pi-exclamation-circle text-4xl text-red-400 block mb-4"></i>
      <p class="text-gray-500">Asset not found</p>
    </div>
  </div>
</div>
